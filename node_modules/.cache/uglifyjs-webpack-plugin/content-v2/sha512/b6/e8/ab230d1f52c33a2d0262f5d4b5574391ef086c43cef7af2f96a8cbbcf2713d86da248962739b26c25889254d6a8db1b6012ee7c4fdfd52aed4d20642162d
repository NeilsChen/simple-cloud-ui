{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"acd2\"],{acd2:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"Row\",[a(\"Col\",{attrs:{span:\"24\"}},[a(\"Card\",{staticStyle:{height:\"827px\"},attrs:{\"dis-hover\":!0}},[a(\"p\",{attrs:{slot:\"title\"},slot:\"title\"},[a(\"Icon\",{attrs:{type:\"md-people\"}}),t._v(\"\\n        资源列表\\n      \")],1),a(\"Row\",{attrs:{type:\"flex\",justify:\"start\"}},[a(\"ButtonGroup\",{attrs:{size:\"large\"}},[a(\"Button\",{attrs:{icon:\"md-add\"},on:{click:t.addDataButton}},[t._v(\"添加\")]),a(\"Button\",{attrs:{icon:\"md-create\",disabled:t.EDButtonDisable},on:{click:t.editDataButton}},[t._v(\"修改\")]),a(\"Button\",{attrs:{icon:\"md-close\",disabled:t.EDButtonDisable},on:{click:t.deleteDataButton}},[t._v(\"删除\")])],1),a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}}),a(\"ButtonGroup\",{attrs:{size:\"large\"}},[a(\"Button\",{attrs:{icon:\"md-refresh\"},on:{click:t.refreshTable}},[t._v(\"刷新\")])],1)],1),a(\"Row\",{staticStyle:{\"margin-top\":\"10px\"},attrs:{type:\"flex\",justify:\"start\"}},[a(\"Col\",{attrs:{span:\"8\"}},[a(\"Card\",{staticStyle:{height:\"660px\",overflow:\"auto\"},attrs:{\"dis-hover\":!0}},[a(\"Tree\",{ref:\"treedata\",attrs:{data:t.treedata},on:{\"on-select-change\":t.selectChange}})],1)],1),a(\"Col\",{staticStyle:{\"margin-left\":\"5px\"},attrs:{span:\"15\"}},[a(\"Card\",{staticStyle:{height:\"660px\"},attrs:{\"dis-hover\":!0}},[a(\"Form\",{ref:\"resourceDetail\",staticStyle:{margin:\"20px\"},attrs:{\"label-width\":60},model:{value:t.resourceDetail,callback:function(e){t.resourceDetail=e},expression:\"resourceDetail\"}},[a(\"FormItem\",{attrs:{label:\"父ID\",prop:\"pid\"}},[a(\"Input\",{attrs:{disabled:\"\"},model:{value:t.resourceDetail.pid,callback:function(e){t.$set(t.resourceDetail,\"pid\",e)},expression:\"resourceDetail.pid\"}})],1),a(\"FormItem\",{attrs:{label:\"ID\",prop:\"id\"}},[a(\"Input\",{attrs:{disabled:\"\"},model:{value:t.resourceDetail.id,callback:function(e){t.$set(t.resourceDetail,\"id\",e)},expression:\"resourceDetail.id\"}})],1),a(\"FormItem\",{attrs:{label:\"层级\",prop:\"level\"}},[a(\"Input\",{attrs:{disabled:\"\"},model:{value:t.resourceDetail.level,callback:function(e){t.$set(t.resourceDetail,\"level\",e)},expression:\"resourceDetail.level\"}})],1),a(\"FormItem\",{attrs:{label:\"名称\",prop:\"title\"}},[a(\"Input\",{attrs:{disabled:t.formEditDisable},model:{value:t.resourceDetail.name,callback:function(e){t.$set(t.resourceDetail,\"name\",e)},expression:\"resourceDetail.name\"}})],1),a(\"FormItem\",{attrs:{label:\"路径\",prop:\"url\"}},[a(\"Input\",{attrs:{disabled:t.formEditDisable},model:{value:t.resourceDetail.url,callback:function(e){t.$set(t.resourceDetail,\"url\",e)},expression:\"resourceDetail.url\"}})],1),a(\"FormItem\",{attrs:{label:\"状态\",prop:\"status\"}},[a(\"Select\",{staticStyle:{width:\"150px\"},attrs:{clearable:\"\",disabled:t.formEditDisable},model:{value:t.resourceDetail.status,callback:function(e){t.$set(t.resourceDetail,\"status\",e)},expression:\"resourceDetail.status\"}},t._l(t.statusList,function(e){return a(\"Option\",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),a(\"FormItem\",{attrs:{label:\"备注\",prop:\"descn\"}},[a(\"Input\",{attrs:{disabled:t.formEditDisable,type:\"textarea\",autosize:{minRows:2,maxRows:5}},model:{value:t.resourceDetail.descn,callback:function(e){t.$set(t.resourceDetail,\"descn\",e)},expression:\"resourceDetail.descn\"}})],1),a(\"FormItem\",[a(\"Button\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.buttonShow,expression:\"buttonShow\"}],attrs:{type:\"primary\"},on:{click:t.saveData}},[t._v(\"保 存\")]),a(\"Button\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.buttonShow,expression:\"buttonShow\"}],staticStyle:{\"margin-left\":\"8px\"},on:{click:t.cancelSave}},[t._v(\"取 消\")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},r=[],i=(a(\"7f7f\"),{name:\"userinfo-table\",data:function(){return{resourceDetail:{pid:\"\",id:\"\",name:\"\",url:\"\",level:\"\",status:1,descn:\"\"},statusList:[{value:0,label:\"不启用\"},{value:1,label:\"正常\"},{value:2,label:\"禁用\"},{value:3,label:\"删除\"}],treedata:[],buttonShow:!1,formEditDisable:!0,EDButtonDisable:!0}},methods:{selectChange:function(t){t.length>0?(this.EDButtonDisable=!1,this.resourceDetail=t[0]):(this.resourceDetail={status:1},this.EDButtonDisable=!0),this.buttonShow=!1,this.formEditDisable=!0},addDataButton:function(){var t={status:1},e=this.$refs.treedata.getSelectedNodes();e.length>0?(t.pid=e[0].id,t.level=parseInt(e[0].level)+1):(t.pid=0,t.level=1),console.log(t),this.resourceDetail=t,this.buttonShow=!0,this.formEditDisable=!1},editDataButton:function(){this.buttonShow=!0,this.formEditDisable=!1},deleteDataButton:function(){this.resourceDetail={},this.buttonShow=!1,this.formEditDisable=!0},saveData:function(){var t=this,e=this.$qs.stringify({data:JSON.stringify(this.resourceDetail),token:\"123\"});this.$axios.post(\"/admin-server/permission/addOrUpdatePermission\",e).then(function(e){200==e.data.code&&(t.$Notice.success({duration:3,desc:\"操作成功！\"}),t.refreshTable(),t.$refs[name].resetFields(),t.$Loading.finish()),500==e.data.code&&(t.$Modal.error({width:650,title:\"错误提示\",content:\"<p style='text-align:left;color:red;font-size:20px;word-wrap:break-word; word-break:normal;'>500 \"+e.data.msg+\" </p><p style='font-size:14px;word-wrap:break-word; word-break:normal;'>详细内容：\"+e.data.data+\"</p>\"}),t.$Loading.error())}).catch(function(e){t.$Notice.error({title:\"错误提示\",duration:5,desc:e+\"<br/>无法获取后台数据！\"}),t.loading=!1})},cancelSave:function(){this.buttonShow=!1,this.formEditDisable=!0,this.resourceDetail={}},refreshTable:function(){this.EDButtonDisable=!0,this.resourceDetail={},this.initTreeData()},initTreeData:function(){var t=this,e=\"123\";this.$axios.get(\"/admin-server/permission/findPermissionTreeData\",{params:{token:e}}).then(function(e){200==e.data.code?t.treedata=e.data.data:t.$Notice.error({title:\"错误提示\",duration:5,desc:e+\"<br/>无法获取后台数据！\"})}).catch(function(e){t.$Notice.error({title:\"错误提示\",duration:5,desc:e+\"<br/>无法获取后台数据！\"})})}},mounted:function(){this.$Loading.start(),this.initTreeData(),this.$Loading.finish()}}),o=i,l=a(\"2877\"),n=Object(l[\"a\"])(o,s,r,!1,null,null,null);n.options.__file=\"resourcemain.vue\";e[\"default\"]=n.exports}}]);","extractedComments":[]}